var u=Object.defineProperty;var m=(s,t,e)=>t in s?u(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var n=(s,t,e)=>(m(s,typeof t!="symbol"?t+"":t,e),e);import{n as i,m as r,a as l,C as h}from"./index.92f2ee26.js";const f={name:"Notification",props:{msg:String}};var _=function(){var t=this,e=t._self._c;return e("div",{staticClass:"body flex flex-col justify-center items-center"},[e("div",{staticClass:"flex justify-between"},[e("p",{staticClass:"text-xl p-2 text-cyan-50"},[t._v(t._s(t.msg))]),e("p",{staticClass:"text-2xl text-white p-3 cursor-pointer",on:{click:function(a){return t.$emit("close")}}},[t._v("x")])])])},x=[],v=i(f,_,x,!1,null,"ec95edda",null,null);const w=v.exports,y={name:"PrintReceipt",data(){return{close:!1}},computed:{...r(["products","receiptDate","total","receiptNo","cash","change","showModelReceipt","fetchGateway"]),cart(){return this.$store.getters.cart}},methods:{print(){let s=this.$refs.printArea,t=document.title,e=this.$refs.print;this.close=!this.close,e=s==null?void 0:s.innerHTML,document.title=this.$store.getters.receiptNo,document.title=t;let a=window.open("","","height=500,width=500");a==null||a.document.writeln(e),a==null||a.print()},closeModalReceipt(){this.close=!this.close},numberFormat(s){return(s||"").toString().replace(/^0|\./g,"").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},priceFormat(s){return s?`UGX. ${this.numberFormat(s)}`:"UGX. 0"}}};var C=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:!t.close,expression:"!close"}],ref:"printArea",staticClass:"alert left-0 top-0 z-10 flex flex-wrap justify-center items-center p-24"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showModelReceipt,expression:"showModelReceipt"}],staticClass:"w-4/12 rounded-3xl bg-white shadow-xl overflow-hidden z-10"},[e("div",{staticClass:"text-left w-full text-sm p-6 overflow-auto",attrs:{id:"receipt-content"}},[t._m(0),e("div",{staticClass:"flex mt-4 text-xs"},[e("div",{staticClass:"flex-grow"},[t._v("No: "),e("span",{domProps:{textContent:t._s(t.receiptNo)}})]),e("div",{domProps:{textContent:t._s(t.receiptDate)}})]),e("hr",{staticClass:"my-2"}),e("div",[e("table",{staticClass:"w-full text-xs"},[t._m(1),e("tbody",t._l(t.cart,function(a,o){return e("tr",{key:o},[e("td",{staticClass:"py-2 text-center",domProps:{textContent:t._s(o+1)}}),e("td",{staticClass:"py-2 text-left"},[e("span",{domProps:{textContent:t._s(a.productName)}}),e("br"),e("small",{domProps:{textContent:t._s(t.priceFormat(a.productPrice))}})]),e("td",{staticClass:"py-2 text-center"},[t._v(t._s(a.productQuantity))]),e("td",{staticClass:"py-2 text-right",domProps:{textContent:t._s(t.priceFormat(a.productQuantity*a.productPrice))}})])}),0)])]),e("hr",{staticClass:"my-2"}),e("div",[e("div",{staticClass:"flex font-semibold"},[e("div",{staticClass:"flex-grow"},[t._v("TOTAL")]),e("div",{domProps:{textContent:t._s(t.priceFormat(t.total))}})]),e("div",{staticClass:"flex text-xs font-semibold"},[e("div",{staticClass:"flex-grow"},[t._v("PAY AMOUNT")]),e("div",{domProps:{textContent:t._s(t.priceFormat(t.cash))}})]),e("hr",{staticClass:"my-2"}),e("div",{staticClass:"flex text-xs font-semibold"},[e("p",{staticClass:"flex-grow",domProps:{textContent:t._s("BALANCE")}}),e("p",{domProps:{textContent:t._s(t.priceFormat(t.change))}})]),e("div",{staticClass:"flex text-xs font-semibold"},[e("p",{staticClass:"flex-grow",domProps:{textContent:t._s("Payment Gateway")}}),e("p",{domProps:{textContent:t._s(t.fetchGateway.payment)}})]),e("div",{staticClass:"flex text-xs font-semibold"},[e("p",{staticClass:"flex-grow",domProps:{textContent:t._s("Phone")}}),e("p",{domProps:{textContent:t._s(t.fetchGateway.phone)}})]),e("div",{staticClass:"flex text-xs font-semibold"},[e("p",{staticClass:"flex-grow",domProps:{textContent:t._s("Payment Summary")}}),e("p",{domProps:{textContent:t._s(t.fetchGateway.summary)}})])]),e("div",{staticClass:"p-4 w-full"},[e("button",{staticClass:"bg-cyan-500 text-white text-lg px-4 py-3 rounded-2xl w-full focus:outline-none",domProps:{textContent:t._s("PRINT RECEIPT")},on:{click:function(a){return t.print()}}}),e("button",{staticClass:"bg-red-500 text-white text-lg px-4 py-3 my-2 rounded-2xl w-full focus:outline-none",domProps:{textContent:t._s("CANCEL")},on:{click:function(a){return t.closeModalReceipt()}}})])]),e("div",{ref:"print",staticClass:"print-area"})])])},g=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"text-center"},[t("h2",{staticClass:"text-xl font-semibold"},[s._v("KIGGS SUPERMARKET")]),t("p")])},function(){var s=this,t=s._self._c;return t("thead",[t("tr",[t("th",{staticClass:"py-1 w-1/12 text-center"},[s._v("#")]),t("th",{staticClass:"py-1 text-left"},[s._v("Item")]),t("th",{staticClass:"py-1 w-2/12 text-center"},[s._v("Qty")]),t("th",{staticClass:"py-1 w-3/12 text-right"},[s._v("Subtotal")])])])}],P=i(y,C,g,!1,null,null,null,null);const b=P.exports;class p{constructor(t){n(this,"productName");n(this,"productPrice");n(this,"dateOfPurchase");n(this,"productImage");n(this,"productDescription");n(this,"productId");n(this,"productCategory");n(this,"productQuantity");this.product=t}}class N extends p{get price(){return parseInt(this.product.productPrice.toString())+800}}class k extends p{get price(){return parseInt(this.product.productPrice.toString())+1e3}}const $={name:"DetailsCard",computed:{...r(["details","showDetails","products"])},methods:{...l(["setShowDetails","setDetails"]),closeModal(){this.setShowDetails(!1)},expressShipping(s){let t=new k(s),e={...s,productPrice:t.price};this.setDetails(e);let a=this.products.map(o=>(o.productName==s.productName&&(o.productPrice=t.price),o));localStorage.setItem("products",JSON.stringify(a))},giftWrapping(s){let t=new N(s),e={...s,productQuantity:t.quantity,productPrice:t.price};this.setDetails(e);let a=this.products.map(o=>(o.productName==s.productName&&(o.productPrice=t.price),o));localStorage.setItem("products",JSON.stringify(a))}}};var M=function(){var t=this,e=t._self._c;return e("div",{class:{"w-full h-full glow z-10 fixed justify-center items-center top-0 left-0 active":t.showDetails,"w-full h-full glow z-10 fixed justify-center items-center top-0 left-0":!t.showDetails}},[e("div",{staticClass:"fixed top-0 left-0 bottom-0 right-0 flex flex-col justify-center items-center"},[e("div",{staticClass:"bg-white rounded-xl px-2 py-2"},[e("table",{staticClass:"text-lg w-full h-full px-2 py-2 border-collapse"},[t._m(0),e("tbody",[e("tr",[e("td",{staticClass:"my-4 mx-4 text-center"},[e("img",{staticClass:"w-full",attrs:{src:t.details.productImage}})]),e("td",{staticClass:"py-2 text-left"},[e("br"),e("br"),e("span",{staticClass:"font-light"},[t._v("Product Name:")]),t._v(" "),e("span",{staticClass:"font-light",domProps:{textContent:t._s(t.details.productName)}}),e("br"),e("span",{staticClass:"font-light"},[t._v("Product Price:")]),t._v(" "),e("span",{staticClass:"font-light",domProps:{textContent:t._s(t.details.productPrice)}}),e("br"),e("span",{staticClass:"font-light"},[t._v("Product Quantity:")]),t._v(" "),e("span",{staticClass:"font-light py-2 text-center"},[t._v(t._s(t.details.productQuantity))]),e("br"),e("span",{staticClass:"font-light"},[t._v("Product Description:")]),t._v(" "),e("span",{staticClass:"font-light py-2 text-center"},[t._v(t._s(t.details.productDescription))]),e("br"),e("br"),e("hr"),e("span",{staticClass:"font-light"},[t._v("Total Cost:")]),e("span",{staticClass:"py-2 px-2 text-right font-semibold",domProps:{textContent:t._s(t.details.productQuantity*t.details.productPrice)}}),e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"flex flex-row justify-evenly p-3"},[e("div",[t._m(1),e("button",{staticClass:"bg-cyan-500 text-white text-lg px-3 py-3 m-4 rounded-2xl w-96 focus:outline-none",domProps:{textContent:t._s("GIFT WRAPPING")},on:{click:function(a){return t.giftWrapping(t.details)}}})]),e("div",{},[t._m(2),e("button",{staticClass:"bg-cyan-500 text-white text-lg px-3 py-3 m-4 rounded-2xl w-96 focus:outline-none",domProps:{textContent:t._s("EXPRESS SHIPPING")},on:{click:function(a){return t.expressShipping(t.details)}}})])]),e("br"),e("div",{staticClass:"flex flex-row justify-evenly p-3"},[e("button",{staticClass:"bg-red-500 text-white text-lg px-4 py-3 m-4 rounded-2xl w-96 focus:outline-none",domProps:{textContent:t._s("CLOSE")},on:{click:function(a){return t.closeModal()}}})])])])])])])])])},S=[function(){var s=this,t=s._self._c;return t("thead",[t("tr",[t("th",{staticClass:"py-1 w-5/12 text-center"}),t("th",{staticClass:"py-1 text-center w-7/12 text-3xl font-bold"},[s._v("Details")])])])},function(){var s=this,t=s._self._c;return t("p",[t("span",[s._v("Gift Wrapping: "),t("b",[s._v("UGX 800")])])])},function(){var s=this,t=s._self._c;return t("span",[s._v("Express Shipping:"),t("b",[s._v("UGX 1000")])])}],D=i($,M,S,!1,null,"5b2307cf",null,null);const T=D.exports;class R{constructor(t,e){this.phone=t,this.pin=e}pay(t){return`Paying with Airtel ${t} using ${this.phone}.`}}class G{constructor(t,e){this.phone=t,this.pin=e}pay(t){return`Paying with MTN ${t} using ${this.phone}.`}}class c{constructor(t,e){n(this,"amount");n(this,"phone");this.amount=t,this.phone=e}setGateway(t){switch(t){case"MTN":return new G(this.phone,"2580").pay(this.amount);default:return new R(this.phone,"2580").pay(this.amount)}}}const A=new c("100","0750482089");console.log(A.setGateway("Airtel"));const F=new c("50","0778743490");console.log(F.setGateway("MTN"));const I="/assets/mtn.b933ded8.jpeg",j="/assets/airtel.3326a2f2.png";const E={name:"Payment",data(){return{payment:"",phone:""}},computed:{...r(["showPayment","details","cash","change","cart"])},methods:{...l(["setViewPayment","setShowModel","setPaymentGateway","captureReports"]),makePayment(){let t=new c(this.cash,this.phone).setGateway(this.payment),e={payment:this.payment,phone:this.phone,summary:t};this.setPaymentGateway(e),this.setViewPayment(!1),this.setShowModel(!0),this.captureReports(this.cart)}}};var O=function(){var t=this,e=t._self._c;return e("div",{class:{"w-full h-full glow z-10 fixed justify-center items-center top-0 left-0 active":t.showPayment,"w-full h-full glow z-10 fixed justify-center items-center top-0 left-0":!t.showPayment}},[e("div",{staticClass:"fixed top-0 left-0 bottom-0 right-0 flex flex-col justify-center items-center"},[e("div",{staticClass:"bg-white rounded-xl px-2 py-2"},[e("center",{staticClass:"text-2xl font-body font-medium px-3 py-3"},[t._v("Select One Payment Option")]),e("table",{staticClass:"text-lg w-full h-full px-2 py-2 border-collapse"},[e("thead",[e("tr",[e("th",{staticClass:"py-1 w-80 text-xl font-bold text-center"},[t._v("MTN Payment "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],staticClass:"border border-double",attrs:{type:"radio",name:"payment",id:"mtn",value:"MTN"},domProps:{checked:t._q(t.payment,"MTN")},on:{change:function(a){t.payment="MTN"}}})]),e("th",{staticClass:"py-1 text-center w-80 text-xl font-bold"},[t._v("Airtel Payment "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.payment,expression:"payment"}],attrs:{type:"radio",name:"payment",id:"airtel",value:"Airtel"},domProps:{checked:t._q(t.payment,"Airtel")},on:{change:function(a){t.payment="Airtel"}}})])])]),e("tbody",[e("tr",[e("td",{staticClass:"px-2 py-2"},[t._m(0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.payment=="MTN",expression:"payment == 'MTN'"}],staticClass:"m-3"},[e("span",{staticClass:"font-bold"},[t._v("Phone:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"border p-2 w-80 border-cyan-700 rounded-md",attrs:{type:"phone",maxlength:"10"},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}}),e("div",{staticClass:"my-3"},[e("button",{staticClass:"bg-green-600 text-white text-center w-80 px-2 py-2 mx-2 my-2 rounded-md cursor-pointer",on:{click:function(a){return t.makePayment()}}},[t._v("Make Payment")])])])]),e("td",{staticClass:"px-2 py-2"},[t._m(1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.payment=="Airtel",expression:"payment == 'Airtel'"}],staticClass:"m-3"},[e("span",{staticClass:"font-bold"},[t._v("Phone:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"border p-2 w-80 border-cyan-700 rounded-md",attrs:{type:"phone",maxlength:"10"},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}}),e("div",{staticClass:"my-3"},[e("button",{staticClass:"bg-green-600 text-white text-center w-80 px-2 py-2 mx-2 my-2 rounded-md cursor-pointer",on:{click:function(a){return t.makePayment()}}},[t._v("Make Payment")])])])])])])])],1)])])},U=[function(){var s=this,t=s._self._c;return t("label",{attrs:{for:"mtn"}},[t("img",{staticClass:"w-80 h-40 mx-2",attrs:{src:I}})])},function(){var s=this,t=s._self._c;return t("label",{attrs:{for:"airtel"}},[t("img",{staticClass:"w-80 h-40 mx-2",attrs:{src:j}})])}],z=i(E,O,U,!1,null,null,null,null);const Q=z.exports,q={name:"MainView",components:{CartItem:h,Notification:w,PrintReceipt:b,DetailsCard:T,Payment:Q},data(){return{keyword:"",showNot:!1}},computed:{...r(["message","products","showModelReceipt","qty"])},watch:{...r(["message","products"])},methods:{...l(["addingToCart","setDetails","setShowDetails"]),addToCart(s){this.showNot=!0,this.addingToCart({...s,productQuantity:this.qty}),setTimeout(()=>{this.showNot=!1},1200)},close(){this.showNot=!1},viewDetails(s,t){let e=s;this.setDetails({...e,index:t}),this.setShowDetails(!0)},numberFormat(s){return(s||"").toString().replace(/^0|\,/g,"").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},priceFormat(s){return s?`UGX. ${this.numberFormat(s)}`:"UGX. 0"},filteredProducts(){const s=this.keyword?new RegExp(this.keyword,"gi"):null;return this.products.filter(t=>!s||t.productName.match(s))}}};var X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-1 w-full px-4 overflow-y-scroll"},[e("div",{staticClass:"flex px-2 flex-row relative"},[e("div",{staticClass:"absolute left-5 top-3 px-2 py-2 rounded-full bg-cyan-500 text-white"},[e("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"bg-white rounded-3xl shadow text-lg full w-full h-16 py-4 pl-16 transition-shadow focus:shadow-2xl focus:outline-none",attrs:{type:"text",placeholder:"Cart menu ..."},domProps:{value:t.keyword},on:{input:function(a){a.target.composing||(t.keyword=a.target.value)}}})]),e("div",{staticClass:"h-full overflow-auto mt-4"},[e("div",{staticClass:"h-full overflow-y-auto px-2"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.products.length===0,expression:"products.length === 0"}],staticClass:"select-none bg-blue-gray-100 rounded-3xl flex flex-wrap content-center justify-center h-full opacity-25"},[e("div",{staticClass:"w-full text-center"},[e("svg",{staticClass:"h-24 w-24 inline-block",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"}})]),e("p",{staticClass:"text-xl"},[t._v(" YOU DON'T HAVE "),e("br"),t._v(" ANY PRODUCTS TO SHOW "+t._s(t.products.length)+" ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.filteredProducts().length===0&&t.keyword.length>0,expression:"filteredProducts().length === 0 && keyword.length > 0"}],staticClass:"select-none bg-blue-gray-100 rounded-3xl flex flex-wrap content-center justify-center h-full opacity-25"},[e("div",{staticClass:"w-full text-center"},[e("svg",{staticClass:"h-24 w-24 inline-block",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}})]),e("p",{staticClass:"text-xl"},[t._v(" EMPTY SEARCH RESULT "),e("br"),t._v(' "'),e("span",{staticClass:"font-semibold",domProps:{textContent:t._s(t.keyword)}}),t._v('" ')])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.filteredProducts().length>0,expression:"filteredProducts().length > 0"}],staticClass:"grid grid-cols-4 gap-4 pb-3"},t._l(t.filteredProducts(),function(a,o){return e("div",{key:o},[e("div",{staticClass:"select-none cursor-pointer transition-shadow overflow-hidden rounded-2xl bg-white shadow hover:shadow-lg",attrs:{role:"button",title:a.productName}},[e("img",{attrs:{src:a.productImage,alt:a.productName}}),e("div",{staticClass:"flex pb-3 px-3 text-sm -mt-3"},[e("p",{staticClass:"flex-grow truncate text-lg mr-1",domProps:{textContent:t._s(a.productName)}}),e("p",{staticClass:"nowrap font-semibold",domProps:{textContent:t._s(t.priceFormat(a.productPrice))}})]),e("button",{staticClass:"w-3/6 h-3/6 bg-orange-300 p-5 font-semibold cursor-pointer",domProps:{textContent:t._s("Add to cart")},on:{click:function(d){return t.addToCart(a)}}}),e("button",{staticClass:"w-3/6 h-3/6 bg-teal-500 font-semibold p-5 cursor-pointer",domProps:{textContent:t._s("View Details")},on:{click:function(d){return t.viewDetails(a,o)}}})])])}),0),e("PrintReceipt",{directives:[{name:"show",rawName:"v-show",value:t.showModelReceipt,expression:"showModelReceipt"}]}),e("Notification",{class:[t.showNot==!0?"active":"","pop"],attrs:{msg:t.message},on:{close:function(a){return t.close()}}}),e("details-card"),e("payment")],1)])])},L=[],V=i(q,X,L,!1,null,null,null,null);const W=V.exports;export{W as default};
